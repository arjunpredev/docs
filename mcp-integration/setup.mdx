# MCP Setup Guide

Get MCP integration running in under 5 minutes.

## Prerequisites

- An MCP-enabled AI agent (Claude Desktop, Cursor, etc.)
- Your pre.dev API key

## Installation Steps

### 1. Locate Your MCP Configuration

Find your MCP configuration file based on your agent:

**Claude Desktop:**
- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`
- Windows: `%APPDATA%\Claude\claude_desktop_config.json`

**Claude Code (CLI):**
- Use the `claude mcp add-json` command (see configuration examples below)

**Cursor:**
- Access via Cursor settings → MCP → Edit Configuration

**VS Code:**
- Use the command-line installation method (see below)

**Windsurf:**
- Click MCP in Cascade panel to access configuration

**Other agents:**
- Check their documentation for MCP configuration location

### 2. Add Architect API Server

Choose the appropriate configuration method for your agent (see Configuration Examples below):

- **Claude Code / VS Code**: Use the command-line installation method
- **Claude Desktop / Cursor / Windsurf**: Add HTTP server configuration to your MCP config

### 3. Restart Your Agent

- **Claude Desktop:** Quit and restart the application
- **Claude Code:** No restart needed - configuration is applied immediately
- **Cursor:** Reload the window (Cmd/Ctrl + Shift + P → "Developer: Reload Window")
- **VS Code:** Restart VS Code completely (Quit and reopen)
- **Windsurf:** Refresh Windsurf after saving the configuration
- **Other agents:** Follow their restart procedure

### 4. Verify Installation

Test that MCP is working by asking your agent to generate a spec:

```
"Generate a fast spec for a simple todo app"
```

If working correctly, your agent should respond that it's generating a specification using the Architect API.

## Configuration Examples

### Claude Desktop

```json
{
  "mcpServers": {
    "predev": {
      "url": "https://api.pre.dev/mcp",
      "headers": {
        "Authorization": "Bearer your-api-key-here"
      }
    }
  }
}
```

### Claude Code (CLI)

Run this single command in your terminal:

```bash
claude mcp add-json predev '{"type":"http","url":"https://api.pre.dev/mcp","headers":{"Authorization":"Bearer YOUR_API_KEY"}}'
```

Replace `YOUR_API_KEY` with your actual API key. This command automatically configures Claude Code's MCP settings.

### Cursor

In Cursor settings → Tools & MCP, add:

```json
{
  "mcpServers": {
    "predev": {
      "url": "https://api.pre.dev/mcp",
      "headers": {
        "Authorization": "Bearer your-api-key-here"
      }
    }
  }
}
```

### VS Code

Run this command in your terminal:

```bash
code --add-mcp "{\"name\":\"predev\",\"url\":\"https://api.pre.dev/mcp\",\"headers\":{\"Authorization\":\"Bearer YOUR_API_KEY\"}}"
```

Replace `YOUR_API_KEY` with your actual API key and restart VS Code.

### Windsurf

Click **MCP** in the Cascade panel and add to `mcp_config.json`:

```json
{
  "mcpServers": {
    "predev": {
      "serverUrl": "https://api.pre.dev/mcp",
      "headers": {
        "Authorization": "Bearer your-api-key-here"
      }
    }
  }
}
```

Refresh Windsurf after saving.

## Troubleshooting

### "MCP server failed to start"

**Problem:** Configuration syntax error or invalid API key.

**Solution:**
1. Validate your JSON syntax
2. Verify your API key is correct
3. Ensure the URL is exactly `https://api.pre.dev/mcp`
4. Check that the `Authorization` header is properly set with Bearer token

### "Authentication failed"

**Problem:** Invalid or missing API key.

**Solution:**
1. Verify your API key in pre.dev playground
2. Ensure you're using the correct API key format
3. Check that your subscription is active

### Agent doesn't respond to spec requests

**Problem:** MCP server not loaded or not responding.

**Solution:**
1. Restart your agent completely
2. Check agent logs for MCP errors
3. Verify the server is listed in your agent's MCP status
4. Confirm the server URL is accessible

### Connection timeouts

**Problem:** Network issues or server unavailability.

**Solution:**
1. Check your internet connection
2. Verify api.pre.dev is accessible
3. Wait a few minutes and retry (may be temporary server load)
4. Check if your firewall is blocking the connection

## Next Steps

Once MCP is configured, you can:

- [Learn how to use MCP with your agent](/mcp-integration/usage)
- [Explore integration patterns](/guides/integration-patterns)
- [Check best practices](/guides/best-practices)
